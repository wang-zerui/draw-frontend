{"version":3,"sources":["webpack:///./node_modules/codemirror/addon/search/search.js","webpack:///./node_modules/codemirror/addon/dialog/dialog.js","webpack:///./node_modules/codemirror/addon/selection/active-line.js","webpack:///./node_modules/codemirror/mode/clike/clike.js","webpack:///./node_modules/codemirror/addon/comment/comment.js","webpack:///./node_modules/codemirror/addon/edit/matchbrackets.js","webpack:///./node_modules/codemirror/addon/search/searchcursor.js"],"names":["mod","CodeMirror","searchOverlay","query","caseInsensitive","RegExp","replace","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","length","skipToEnd","SearchState","this","posFrom","posTo","lastQuery","overlay","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","caseFold","multiline","persistentDialog","text","deflt","onEnter","onKeyDown","openDialog","value","selectValueOnOpen","closeOnEnter","onClose","clearSearch","bottom","options","dialog","shortText","f","prompt","confirmDialog","fs","openConfirm","confirm","parseString","ch","parseQuery","isRE","indexOf","e","test","startSearch","queryText","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","findNext","q","getSelection","hiding","searchNext","event","e_stop","getCursor","style","opacity","shiftKey","_","to","line","document","querySelector","display","wrapper","getBoundingClientRect","cursorCoords","top","getQueryDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","callback","cursor","find","Pos","lastLine","firstLine","setSelection","from","scrollIntoView","el","tag","attrs","element","createElement","createDocumentFragment","key","i","arguments","child","appendChild","createTextNode","className","phrase","type","getReplaceQueryDialog","getReplacementQueryDialog","getDoReplaceConfirm","replaceAll","getRange","all","dialogText","fragment","advance","start","doReplace","defineOption","commands","findPersistent","findPersistentNext","findPersistentPrev","findPrev","dialogDiv","template","wrap","getWrapperElement","innerHTML","addClass","closeNotification","newVal","currentNotificationClose","defineExtension","closed","me","close","inp","rmClass","parentNode","removeChild","focus","button","getElementsByTagName","select","onInput","on","onKeyUp","keyCode","blur","closeOnBlur","evt","relatedTarget","callbacks","buttons","blurring","b","e_preventDefault","setTimeout","doneTimer","duration","clearTimeout","WRAP_CLASS","BACK_CLASS","GUTT_CLASS","clearActiveLines","activeLines","removeLineClass","sameArray","a","updateActiveLines","ranges","active","range","option","nonEmpty","anchor","head","empty","getLineHandleVisualStart","push","addLineClass","selectionChange","sel","val","old","prev","Init","off","listSelections","Context","indented","column","info","align","pushContext","col","indent","context","popContext","t","typeBefore","prevToken","slice","typeAtEndOfLine","indentation","isTopScope","words","str","obj","split","contains","word","propertyIsEnumerable","defineMode","config","parserConfig","curPunc","isDefKeyword","indentUnit","statementIndentUnit","dontAlignCalls","keywords","types","builtin","blockKeywords","defKeywords","atoms","hooks","multiLineStrings","indentStatements","indentSwitch","namespaceSeparator","isPunctuationChar","numberStart","number","isOperatorChar","isIdentifierChar","isReservedIdentifier","tokenBase","next","result","tokenize","tokenString","backUp","eat","tokenComment","eatWhile","cur","current","quote","escaped","end","maybeEnd","maybeEOL","typeFirstDefinitions","eol","startState","basecolumn","startOfLine","ctx","sol","eatSpace","undefined","styleDefs","textAfter","Pass","firstChar","charAt","closing","dontIndentStatements","hook","switchBlock","allmanIndentation","electricInput","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","cKeywords","cppKeywords","objCKeywords","objCBuiltins","basicCTypes","basicObjCTypes","cTypes","identifier","objCTypes","cBlockKeywords","cDefKeywords","cppHook","peek","pointerHook","_stream","cIsReservedIdentifier","cpp14Literal","cpp11StringHook","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","tokenAtString","delim","def","mimes","mode","add","prop","hasOwnProperty","helperType","registerHelper","defineMIME","tokenTripleString","tokenNestedComment","depth","tokenKotlinString","tripleString","skipTo","name","modeProps","cx","closeBrackets","pairs","triples","intendSwitch","stringTokenizer","tokenCeylonString","first","toUpperCase","noOptions","nonWS","cmp","cmpPos","firstNonWS","found","probablyInsideString","getTokenTypeAt","getMode","useInnerComments","innerMode","getModeAt","toggleComment","minLine","Infinity","uncomment","self","getLine","commentString","Math","min","pad","padding","blankLines","commentBlankLines","baseString","whitespace","cut","replaceRange","fullLines","blockComment","startString","endString","lastLineHasText","lead","blockCommentLead","atCursor","somethingSelected","didSomething","lineString","lines","endPos","startLine","open","endLine","insideStart","insideEnd","lastStart","lastIndexOf","firstEnd","almostLastStart","openEnd","foundEnd","ie_lt8","navigator","userAgent","documentMode","matching","bracketRegex","findMatchingBracket","where","getLineHandle","afterCursor","re","dir","strict","scanForBracket","forward","maxScanLen","maxScanLineLength","maxScanLines","stack","lineEnd","max","lineNo","pop","matchBrackets","autoclear","maxHighlightLen","maxHighlightLineLength","highlightNonMatching","marks","markText","focused","doMatchBrackets","currentlyHighlighted","clearHighlighted","oldConfig","doFold","noFold","regexpFlags","regexp","flags","ensureFlags","target","maybeMultiline","searchRegexpForward","doc","last","searchRegexpForwardMultiline","chunk","curLine","before","inside","startCh","lastMatchIn","endMargin","newMatch","searchRegexpBackward","searchRegexpBackwardMultiline","chunkSize","adjustPos","orig","folded","foldFunc","mid","len","searchStringForward","cutFrom","searchStringBackward","topString","SearchCursor","atOccurrence","afterEmptyMatch","clipPos","matches","reverse","String","prototype","normalize","findPrevious","newText","origin","splitLines","defineDocExtension","setSelections"],"mappings":"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","file":"js/chunk-4ac7002b.88ae2521.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function(match, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      if (ch == \"t\") return \"\\t\"\n      if (ch == \"\\\\\") return \"\\\\\"\n      return match\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  function el(tag, attrs) {\n    var element = tag ? document.createElement(tag) : document.createDocumentFragment();\n    for (var key in attrs) {\n      element[key] = attrs[key];\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var child = arguments[i]\n      element.appendChild(typeof child == \"string\" ? document.createTextNode(child) : child);\n    }\n    return element;\n  }\n\n  function getQueryDialog(cm)  {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Search:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #888\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplaceQueryDialog(cm) {\n    return el(\"\", null, \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #888\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplacementQueryDialog(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"With:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}));\n  }\n  function getDoReplaceConfirm(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Replace?\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Yes\")), \" \",\n              el(\"button\", {}, cm.phrase(\"No\")), \" \",\n              el(\"button\", {}, cm.phrase(\"All\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Stop\")));\n  }\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\")\n    var fragment = el(\"\", null,\n                      el(\"span\", {className: \"CodeMirror-search-label\"}, dialogText),\n                      getReplaceQueryDialog(cm))\n    dialog(cm, fragment, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"),\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    CodeMirror.addClass(wrap, 'dialog-opened');\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(dialog, \"focusout\", function (evt) {\n        if (evt.relatedTarget !== null) close();\n      });\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      CodeMirror.rmClass(dialog.parentNode, 'dialog-opened');\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n  var WRAP_CLASS = \"CodeMirror-activeline\";\n  var BACK_CLASS = \"CodeMirror-activeline-background\";\n  var GUTT_CLASS = \"CodeMirror-activeline-gutter\";\n\n  CodeMirror.defineOption(\"styleActiveLine\", false, function(cm, val, old) {\n    var prev = old == CodeMirror.Init ? false : old;\n    if (val == prev) return\n    if (prev) {\n      cm.off(\"beforeSelectionChange\", selectionChange);\n      clearActiveLines(cm);\n      delete cm.state.activeLines;\n    }\n    if (val) {\n      cm.state.activeLines = [];\n      updateActiveLines(cm, cm.listSelections());\n      cm.on(\"beforeSelectionChange\", selectionChange);\n    }\n  });\n\n  function clearActiveLines(cm) {\n    for (var i = 0; i < cm.state.activeLines.length; i++) {\n      cm.removeLineClass(cm.state.activeLines[i], \"wrap\", WRAP_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"background\", BACK_CLASS);\n      cm.removeLineClass(cm.state.activeLines[i], \"gutter\", GUTT_CLASS);\n    }\n  }\n\n  function sameArray(a, b) {\n    if (a.length != b.length) return false;\n    for (var i = 0; i < a.length; i++)\n      if (a[i] != b[i]) return false;\n    return true;\n  }\n\n  function updateActiveLines(cm, ranges) {\n    var active = [];\n    for (var i = 0; i < ranges.length; i++) {\n      var range = ranges[i];\n      var option = cm.getOption(\"styleActiveLine\");\n      if (typeof option == \"object\" && option.nonEmpty ? range.anchor.line != range.head.line : !range.empty())\n        continue\n      var line = cm.getLineHandleVisualStart(range.head.line);\n      if (active[active.length - 1] != line) active.push(line);\n    }\n    if (sameArray(cm.state.activeLines, active)) return;\n    cm.operation(function() {\n      clearActiveLines(cm);\n      for (var i = 0; i < active.length; i++) {\n        cm.addLineClass(active[i], \"wrap\", WRAP_CLASS);\n        cm.addLineClass(active[i], \"background\", BACK_CLASS);\n        cm.addLineClass(active[i], \"gutter\", GUTT_CLASS);\n      }\n      cm.state.activeLines = active;\n    });\n  }\n\n  function selectionChange(cm, sel) {\n    updateActiveLines(cm, sel.ranges);\n  }\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n\"use strict\";\n\nfunction Context(indented, column, type, info, align, prev) {\n  this.indented = indented;\n  this.column = column;\n  this.type = type;\n  this.info = info;\n  this.align = align;\n  this.prev = prev;\n}\nfunction pushContext(state, col, type, info) {\n  var indent = state.indented;\n  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n    indent = state.context.indented;\n  return state.context = new Context(indent, col, type, info, null, state.context);\n}\nfunction popContext(state) {\n  var t = state.context.type;\n  if (t == \")\" || t == \"]\" || t == \"}\")\n    state.indented = state.context.indented;\n  return state.context = state.context.prev;\n}\n\nfunction typeBefore(stream, state, pos) {\n  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n}\n\nfunction isTopScope(context) {\n  for (;;) {\n    if (!context || context.type == \"top\") return true;\n    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n    context = context.prev;\n  }\n}\n\nCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n  var indentUnit = config.indentUnit,\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n      dontAlignCalls = parserConfig.dontAlignCalls,\n      keywords = parserConfig.keywords || {},\n      types = parserConfig.types || {},\n      builtin = parserConfig.builtin || {},\n      blockKeywords = parserConfig.blockKeywords || {},\n      defKeywords = parserConfig.defKeywords || {},\n      atoms = parserConfig.atoms || {},\n      hooks = parserConfig.hooks || {},\n      multiLineStrings = parserConfig.multiLineStrings,\n      indentStatements = parserConfig.indentStatements !== false,\n      indentSwitch = parserConfig.indentSwitch !== false,\n      namespaceSeparator = parserConfig.namespaceSeparator,\n      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n      isIdentifierChar = parserConfig.isIdentifierChar || /[\\w\\$_\\xa1-\\uffff]/,\n      // An optional function that takes a {string} token and returns true if it\n      // should be treated as a builtin.\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n  var curPunc, isDefKeyword;\n\n  function tokenBase(stream, state) {\n    var ch = stream.next();\n    if (hooks[ch]) {\n      var result = hooks[ch](stream, state);\n      if (result !== false) return result;\n    }\n    if (ch == '\"' || ch == \"'\") {\n      state.tokenize = tokenString(ch);\n      return state.tokenize(stream, state);\n    }\n    if (numberStart.test(ch)) {\n      stream.backUp(1)\n      if (stream.match(number)) return \"number\"\n      stream.next()\n    }\n    if (isPunctuationChar.test(ch)) {\n      curPunc = ch;\n      return null;\n    }\n    if (ch == \"/\") {\n      if (stream.eat(\"*\")) {\n        state.tokenize = tokenComment;\n        return tokenComment(stream, state);\n      }\n      if (stream.eat(\"/\")) {\n        stream.skipToEnd();\n        return \"comment\";\n      }\n    }\n    if (isOperatorChar.test(ch)) {\n      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n      return \"operator\";\n    }\n    stream.eatWhile(isIdentifierChar);\n    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n      stream.eatWhile(isIdentifierChar);\n\n    var cur = stream.current();\n    if (contains(keywords, cur)) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      if (contains(defKeywords, cur)) isDefKeyword = true;\n      return \"keyword\";\n    }\n    if (contains(types, cur)) return \"type\";\n    if (contains(builtin, cur)\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n      return \"builtin\";\n    }\n    if (contains(atoms, cur)) return \"atom\";\n    return \"variable\";\n  }\n\n  function tokenString(quote) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while ((next = stream.next()) != null) {\n        if (next == quote && !escaped) {end = true; break;}\n        escaped = !escaped && next == \"\\\\\";\n      }\n      if (end || !(escaped || multiLineStrings))\n        state.tokenize = null;\n      return \"string\";\n    };\n  }\n\n  function tokenComment(stream, state) {\n    var maybeEnd = false, ch;\n    while (ch = stream.next()) {\n      if (ch == \"/\" && maybeEnd) {\n        state.tokenize = null;\n        break;\n      }\n      maybeEnd = (ch == \"*\");\n    }\n    return \"comment\";\n  }\n\n  function maybeEOL(stream, state) {\n    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\n  }\n\n  // Interface\n\n  return {\n    startState: function(basecolumn) {\n      return {\n        tokenize: null,\n        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n        indented: 0,\n        startOfLine: true,\n        prevToken: null\n      };\n    },\n\n    token: function(stream, state) {\n      var ctx = state.context;\n      if (stream.sol()) {\n        if (ctx.align == null) ctx.align = false;\n        state.indented = stream.indentation();\n        state.startOfLine = true;\n      }\n      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n      curPunc = isDefKeyword = null;\n      var style = (state.tokenize || tokenBase)(stream, state);\n      if (style == \"comment\" || style == \"meta\") return style;\n      if (ctx.align == null) ctx.align = true;\n\n      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n        while (state.context.type == \"statement\") popContext(state);\n      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n      else if (curPunc == \"}\") {\n        while (ctx.type == \"statement\") ctx = popContext(state);\n        if (ctx.type == \"}\") ctx = popContext(state);\n        while (ctx.type == \"statement\") ctx = popContext(state);\n      }\n      else if (curPunc == ctx.type) popContext(state);\n      else if (indentStatements &&\n               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n        pushContext(state, stream.column(), \"statement\", stream.current());\n      }\n\n      if (style == \"variable\" &&\n          ((state.prevToken == \"def\" ||\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n        style = \"def\";\n\n      if (hooks.token) {\n        var result = hooks.token(stream, state, style);\n        if (result !== undefined) style = result;\n      }\n\n      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n      state.startOfLine = false;\n      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n      maybeEOL(stream, state);\n      return style;\n    },\n\n    indent: function(state, textAfter) {\n      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\n      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n      var closing = firstChar == ctx.type;\n      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n      if (parserConfig.dontIndentStatements)\n        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n          ctx = ctx.prev\n      if (hooks.indent) {\n        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n        if (typeof hook == \"number\") return hook\n      }\n      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\n        return ctx.indented\n      }\n      if (ctx.type == \"statement\")\n        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n        return ctx.column + (closing ? 0 : 1);\n      if (ctx.type == \")\" && !closing)\n        return ctx.indented + statementIndentUnit;\n\n      return ctx.indented + (closing ? 0 : indentUnit) +\n        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n    },\n\n    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n    blockCommentStart: \"/*\",\n    blockCommentEnd: \"*/\",\n    blockCommentContinue: \" * \",\n    lineComment: \"//\",\n    fold: \"brace\"\n  };\n});\n\n  function words(str) {\n    var obj = {}, words = str.split(\" \");\n    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n    return obj;\n  }\n  function contains(words, word) {\n    if (typeof words === \"function\") {\n      return words(word);\n    } else {\n      return words.propertyIsEnumerable(word);\n    }\n  }\n  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n    \"static else struct switch extern typedef union for goto while enum const \" +\n    \"volatile inline restrict asm fortran\";\n\n  // Keywords from https://en.cppreference.com/w/cpp/keyword includes C++20.\n  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n  \"explicit export final friend import module mutable namespace new noexcept \" +\n  \"not not_eq operator or or_eq override private protected public \" +\n  \"reinterpret_cast requires static_assert static_cast template this \" +\n  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\"\n\n  // Do not use this. Use the cTypes function below. This is global just to avoid\n  // excessive calls when cTypes is being called multiple times during a parse.\n  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n    \"void bool\");\n\n  // Do not use this. Use the objCTypes function below. This is global just to avoid\n  // excessive calls when objCTypes is being called multiple times during a parse.\n  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n  // Returns true if identifier is a \"C\" type.\n  // C type is defined as those that are reserved by the compiler (basicTypes),\n  // and those that end in _t (Reserved by POSIX for types)\n  // http://www.gnu.org/software/libc/manual/html_node/Reserved-Names.html\n  function cTypes(identifier) {\n    return contains(basicCTypes, identifier) || /.+_t$/.test(identifier);\n  }\n\n  // Returns true if identifier is a \"Objective C\" type.\n  function objCTypes(identifier) {\n    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n  }\n\n  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n  var cDefKeywords = \"struct enum union\";\n\n  function cppHook(stream, state) {\n    if (!state.startOfLine) return false\n    for (var ch, next = null; ch = stream.peek();) {\n      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n        next = cppHook\n        break\n      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n        break\n      }\n      stream.next()\n    }\n    state.tokenize = next\n    return \"meta\"\n  }\n\n  function pointerHook(_stream, state) {\n    if (state.prevToken == \"type\") return \"type\";\n    return false;\n  }\n\n  // For C and C++ (and ObjC): identifiers starting with __\n  // or _ followed by a capital letter are reserved for the compiler.\n  function cIsReservedIdentifier(token) {\n    if (!token || token.length < 2) return false;\n    if (token[0] != '_') return false;\n    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n  }\n\n  function cpp14Literal(stream) {\n    stream.eatWhile(/[\\w\\.']/);\n    return \"number\";\n  }\n\n  function cpp11StringHook(stream, state) {\n    stream.backUp(1);\n    // Raw strings.\n    if (stream.match(/^(?:R|u8R|uR|UR|LR)/)) {\n      var match = stream.match(/^\"([^\\s\\\\()]{0,16})\\(/);\n      if (!match) {\n        return false;\n      }\n      state.cpp11RawStringDelim = match[1];\n      state.tokenize = tokenRawString;\n      return tokenRawString(stream, state);\n    }\n    // Unicode strings/chars.\n    if (stream.match(/^(?:u8|u|U|L)/)) {\n      if (stream.match(/^[\"']/, /* eat */ false)) {\n        return \"string\";\n      }\n      return false;\n    }\n    // Ignore this hook.\n    stream.next();\n    return false;\n  }\n\n  function cppLooksLikeConstructor(word) {\n    var lastTwo = /(\\w+)::~?(\\w+)$/.exec(word);\n    return lastTwo && lastTwo[1] == lastTwo[2];\n  }\n\n  // C#-style strings where \"\" escapes a quote.\n  function tokenAtString(stream, state) {\n    var next;\n    while ((next = stream.next()) != null) {\n      if (next == '\"' && !stream.eat('\"')) {\n        state.tokenize = null;\n        break;\n      }\n    }\n    return \"string\";\n  }\n\n  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n  // <delim> can be a string up to 16 characters long.\n  function tokenRawString(stream, state) {\n    // Escape characters that have special regex meanings.\n    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n    if (match)\n      state.tokenize = null;\n    else\n      stream.skipToEnd();\n    return \"string\";\n  }\n\n  function def(mimes, mode) {\n    if (typeof mimes == \"string\") mimes = [mimes];\n    var words = [];\n    function add(obj) {\n      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n        words.push(prop);\n    }\n    add(mode.keywords);\n    add(mode.types);\n    add(mode.builtin);\n    add(mode.atoms);\n    if (words.length) {\n      mode.helperType = mimes[0];\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n    }\n\n    for (var i = 0; i < mimes.length; ++i)\n      CodeMirror.defineMIME(mimes[i], mode);\n  }\n\n  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    defKeywords: words(cDefKeywords),\n    typeFirstDefinitions: true,\n    atoms: words(\"NULL true false\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + cppKeywords),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n    defKeywords: words(cDefKeywords + \" class namespace\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false NULL nullptr\"),\n    dontIndentStatements: /^template$/,\n    isIdentifierChar: /[\\w\\$_~\\xa1-\\uffff]/,\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-java\", {\n    name: \"clike\",\n    keywords: words(\"abstract assert break case catch class const continue default \" +\n                    \"do else enum extends final finally for goto if implements import \" +\n                    \"instanceof interface native new package private protected public \" +\n                    \"return static strictfp super switch synchronized this throw throws transient \" +\n                    \"try volatile while @interface\"),\n    types: words(\"var byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n    defKeywords: words(\"class interface enum @interface\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    hooks: {\n      \"@\": function(stream) {\n        // Don't match the @interface keyword.\n        if (stream.match('interface', false)) return false;\n\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    },\n    modeProps: {fold: [\"brace\", \"import\"]}\n  });\n\n  def(\"text/x-csharp\", {\n    name: \"clike\",\n    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n                    \" default delegate do else enum event explicit extern finally fixed for\" +\n                    \" foreach goto if implicit in interface internal is lock namespace new\" +\n                    \" operator out override params private protected public readonly ref return sealed\" +\n                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n                    \" global group into join let orderby partial remove select set value var yield\"),\n    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n                 \" UInt64 bool byte char decimal double short int long object\"  +\n                 \" sbyte float string ushort uint ulong\"),\n    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n    defKeywords: words(\"class interface namespace struct var\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\n      \"@\": function(stream, state) {\n        if (stream.eat('\"')) {\n          state.tokenize = tokenAtString;\n          return tokenAtString(stream, state);\n        }\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      }\n    }\n  });\n\n  function tokenTripleString(stream, state) {\n    var escaped = false;\n    while (!stream.eol()) {\n      if (!escaped && stream.match('\"\"\"')) {\n        state.tokenize = null;\n        break;\n      }\n      escaped = stream.next() == \"\\\\\" && !escaped;\n    }\n    return \"string\";\n  }\n\n  function tokenNestedComment(depth) {\n    return function (stream, state) {\n      var ch\n      while (ch = stream.next()) {\n        if (ch == \"*\" && stream.eat(\"/\")) {\n          if (depth == 1) {\n            state.tokenize = null\n            break\n          } else {\n            state.tokenize = tokenNestedComment(depth - 1)\n            return state.tokenize(stream, state)\n          }\n        } else if (ch == \"/\" && stream.eat(\"*\")) {\n          state.tokenize = tokenNestedComment(depth + 1)\n          return state.tokenize(stream, state)\n        }\n      }\n      return \"comment\"\n    }\n  }\n\n  def(\"text/x-scala\", {\n    name: \"clike\",\n    keywords: words(\n      /* scala */\n      \"abstract case catch class def do else extends final finally for forSome if \" +\n      \"implicit import lazy match new null object override package private protected return \" +\n      \"sealed super this throw trait try type val var while with yield _ \" +\n\n      /* package scala */\n      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n      \"readChar readInt readLong readFloat readDouble\"\n    ),\n    types: words(\n      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n    ),\n    multiLineStrings: true,\n    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n    defKeywords: words(\"class enum def object package trait type val var\"),\n    atoms: words(\"true false null\"),\n    indentStatements: false,\n    indentSwitch: false,\n    isOperatorChar: /[+\\-*&%=<>!?|\\/#:@]/,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n        if (!stream.match('\"\"')) return false;\n        state.tokenize = tokenTripleString;\n        return state.tokenize(stream, state);\n      },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      \"=\": function(stream, state) {\n        var cx = state.context\n        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev)\n          return \"operator\"\n        } else {\n          return false\n        }\n      },\n\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false\n        state.tokenize = tokenNestedComment(1)\n        return state.tokenize(stream, state)\n      }\n    },\n    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n  });\n\n  function tokenKotlinString(tripleString){\n    return function (stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n        next = stream.next();\n        if(!escaped && next == \"$\" && stream.match('{'))\n          stream.skipTo(\"}\");\n        escaped = !escaped && next == \"\\\\\" && !tripleString;\n      }\n      if (end || !tripleString)\n        state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-kotlin\", {\n    name: \"clike\",\n    keywords: words(\n      /*keywords*/\n      \"package as typealias class interface this super val operator \" +\n      \"var fun for is in This throw return annotation \" +\n      \"break continue object if else while do try when !in !is as? \" +\n\n      /*soft keywords*/\n      \"file import where by get set abstract enum open inner override private public internal \" +\n      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n      \"external annotation crossinline const operator infix suspend actual expect setparam value\"\n    ),\n    types: words(\n      /* package java.lang */\n      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n    ),\n    intendSwitch: false,\n    indentStatements: false,\n    multiLineStrings: true,\n    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n    defKeywords: words(\"class val var object interface fun\"),\n    atoms: words(\"true false null this\"),\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '*': function(_stream, state) {\n        return state.prevToken == '.' ? 'variable' : 'operator';\n      },\n      '\"': function(stream, state) {\n        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n        return state.tokenize(stream, state);\n      },\n      \"/\": function(stream, state) {\n        if (!stream.eat(\"*\")) return false;\n        state.tokenize = tokenNestedComment(1);\n        return state.tokenize(stream, state)\n      },\n      indent: function(state, ctx, textAfter, indentUnit) {\n        var firstChar = textAfter && textAfter.charAt(0);\n        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n          return state.indented;\n        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n          state.prevToken == \"variable\" && firstChar == \".\" ||\n          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n          return indentUnit * 2 + ctx.indented;\n        if (ctx.align && ctx.type == \"}\")\n          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n      }\n    },\n    modeProps: {closeBrackets: {triples: '\"'}}\n  });\n\n  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n    name: \"clike\",\n    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n                    \"sampler1DShadow sampler2DShadow \" +\n                    \"const attribute uniform varying \" +\n                    \"break continue discard return \" +\n                    \"for while do if else struct \" +\n                    \"in out inout\"),\n    types: words(\"float int bool void \" +\n                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n                 \"mat2 mat3 mat4\"),\n    blockKeywords: words(\"for while do if else struct\"),\n    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n                    \"pow exp log exp2 sqrt inversesqrt \" +\n                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n                    \"length distance dot cross normalize ftransform faceforward \" +\n                    \"reflect refract matrixCompMult \" +\n                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n                    \"equal notEqual any all not \" +\n                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n                    \"textureCube textureCubeLod \" +\n                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n                    \"dFdx dFdy fwidth \" +\n                    \"noise1 noise2 noise3 noise4\"),\n    atoms: words(\"true false \" +\n                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n                \"gl_FogCoord gl_PointCoord \" +\n                \"gl_Position gl_PointSize gl_ClipVertex \" +\n                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n                \"gl_TexCoord gl_FogFragCoord \" +\n                \"gl_FragCoord gl_FrontFacing \" +\n                \"gl_FragData gl_FragDepth \" +\n                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n                \"gl_ProjectionMatrixInverseTranspose \" +\n                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n                \"gl_TextureMatrixInverseTranspose \" +\n                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n                \"gl_FogParameters \" +\n                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n                \"gl_MaxDrawBuffers\"),\n    indentSwitch: false,\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-nesc\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n                    \"signal task uses abstract extends\"),\n    types: cTypes,\n    blockKeywords: words(cBlockKeywords),\n    atoms: words(\"null true false\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n    dontIndentStatements: /^@.*$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n    },\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-objectivec++\", {\n    name: \"clike\",\n    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n    types: objCTypes,\n    builtin: words(objCBuiltins),\n    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n    dontIndentStatements: /^@.*$|^template$/,\n    typeFirstDefinitions: true,\n    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n    isReservedIdentifier: cIsReservedIdentifier,\n    hooks: {\n      \"#\": cppHook,\n      \"*\": pointerHook,\n      \"u\": cpp11StringHook,\n      \"U\": cpp11StringHook,\n      \"L\": cpp11StringHook,\n      \"R\": cpp11StringHook,\n      \"0\": cpp14Literal,\n      \"1\": cpp14Literal,\n      \"2\": cpp14Literal,\n      \"3\": cpp14Literal,\n      \"4\": cpp14Literal,\n      \"5\": cpp14Literal,\n      \"6\": cpp14Literal,\n      \"7\": cpp14Literal,\n      \"8\": cpp14Literal,\n      \"9\": cpp14Literal,\n      token: function(stream, state, style) {\n        if (style == \"variable\" && stream.peek() == \"(\" &&\n            (state.prevToken == \";\" || state.prevToken == null ||\n             state.prevToken == \"}\") &&\n            cppLooksLikeConstructor(stream.current()))\n          return \"def\";\n      }\n    },\n    namespaceSeparator: \"::\",\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  def(\"text/x-squirrel\", {\n    name: \"clike\",\n    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n    types: cTypes,\n    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n    defKeywords: words(\"function local class\"),\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null\"),\n    hooks: {\"#\": cppHook},\n    modeProps: {fold: [\"brace\", \"include\"]}\n  });\n\n  // Ceylon Strings need to deal with interpolation\n  var stringTokenizer = null;\n  function tokenCeylonString(type) {\n    return function(stream, state) {\n      var escaped = false, next, end = false;\n      while (!stream.eol()) {\n        if (!escaped && stream.match('\"') &&\n              (type == \"single\" || stream.match('\"\"'))) {\n          end = true;\n          break;\n        }\n        if (!escaped && stream.match('``')) {\n          stringTokenizer = tokenCeylonString(type);\n          end = true;\n          break;\n        }\n        next = stream.next();\n        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n      }\n      if (end)\n          state.tokenize = null;\n      return \"string\";\n    }\n  }\n\n  def(\"text/x-ceylon\", {\n    name: \"clike\",\n    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n                    \" exists extends finally for function given if import in interface is let module new\" +\n                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n                    \" try value void while\"),\n    types: function(word) {\n        // In Ceylon all identifiers that start with an uppercase are types\n        var first = word.charAt(0);\n        return (first === first.toUpperCase() && first !== first.toLowerCase());\n    },\n    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n    defKeywords: words(\"class dynamic function interface module object package value\"),\n    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n    numberStart: /[\\d#$]/,\n    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n    multiLineStrings: true,\n    typeFirstDefinitions: true,\n    atoms: words(\"true false null larger smaller equal empty finished\"),\n    indentSwitch: false,\n    styleDefs: false,\n    hooks: {\n      \"@\": function(stream) {\n        stream.eatWhile(/[\\w\\$_]/);\n        return \"meta\";\n      },\n      '\"': function(stream, state) {\n          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n          return state.tokenize(stream, state);\n        },\n      '`': function(stream, state) {\n          if (!stringTokenizer || !stream.match('`')) return false;\n          state.tokenize = stringTokenizer;\n          stringTokenizer = null;\n          return state.tokenize(stream, state);\n        },\n      \"'\": function(stream) {\n        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n        return \"atom\";\n      },\n      token: function(_stream, state, style) {\n          if ((style == \"variable\" || style == \"type\") &&\n              state.prevToken == \".\") {\n            return \"variable-2\";\n          }\n        }\n    },\n    modeProps: {\n        fold: [\"brace\", \"import\"],\n        closeBrackets: {triples: '\"'}\n    }\n  });\n\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  var noOptions = {};\n  var nonWS = /[^\\s\\u00a0]/;\n  var Pos = CodeMirror.Pos, cmp = CodeMirror.cmpPos;\n\n  function firstNonWS(str) {\n    var found = str.search(nonWS);\n    return found == -1 ? 0 : found;\n  }\n\n  CodeMirror.commands.toggleComment = function(cm) {\n    cm.toggleComment();\n  };\n\n  CodeMirror.defineExtension(\"toggleComment\", function(options) {\n    if (!options) options = noOptions;\n    var cm = this;\n    var minLine = Infinity, ranges = this.listSelections(), mode = null;\n    for (var i = ranges.length - 1; i >= 0; i--) {\n      var from = ranges[i].from(), to = ranges[i].to();\n      if (from.line >= minLine) continue;\n      if (to.line >= minLine) to = Pos(minLine, 0);\n      minLine = from.line;\n      if (mode == null) {\n        if (cm.uncomment(from, to, options)) mode = \"un\";\n        else { cm.lineComment(from, to, options); mode = \"line\"; }\n      } else if (mode == \"un\") {\n        cm.uncomment(from, to, options);\n      } else {\n        cm.lineComment(from, to, options);\n      }\n    }\n  });\n\n  // Rough heuristic to try and detect lines that are part of multi-line string\n  function probablyInsideString(cm, pos, line) {\n    return /\\bstring\\b/.test(cm.getTokenTypeAt(Pos(pos.line, 0))) && !/^[\\'\\\"\\`]/.test(line)\n  }\n\n  function getMode(cm, pos) {\n    var mode = cm.getMode()\n    return mode.useInnerComments === false || !mode.innerMode ? mode : cm.getModeAt(pos)\n  }\n\n  CodeMirror.defineExtension(\"lineComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var firstLine = self.getLine(from.line);\n    if (firstLine == null || probablyInsideString(self, from, firstLine)) return;\n\n    var commentString = options.lineComment || mode.lineComment;\n    if (!commentString) {\n      if (options.blockCommentStart || mode.blockCommentStart) {\n        options.fullLines = true;\n        self.blockComment(from, to, options);\n      }\n      return;\n    }\n\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line + 1 : to.line, self.lastLine() + 1);\n    var pad = options.padding == null ? \" \" : options.padding;\n    var blankLines = options.commentBlankLines || from.line == to.line;\n\n    self.operation(function() {\n      if (options.indent) {\n        var baseString = null;\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i);\n          var whitespace = line.slice(0, firstNonWS(line));\n          if (baseString == null || baseString.length > whitespace.length) {\n            baseString = whitespace;\n          }\n        }\n        for (var i = from.line; i < end; ++i) {\n          var line = self.getLine(i), cut = baseString.length;\n          if (!blankLines && !nonWS.test(line)) continue;\n          if (line.slice(0, cut) != baseString) cut = firstNonWS(line);\n          self.replaceRange(baseString + commentString + pad, Pos(i, 0), Pos(i, cut));\n        }\n      } else {\n        for (var i = from.line; i < end; ++i) {\n          if (blankLines || nonWS.test(self.getLine(i)))\n            self.replaceRange(commentString + pad, Pos(i, 0));\n        }\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"blockComment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) {\n      if ((options.lineComment || mode.lineComment) && options.fullLines != false)\n        self.lineComment(from, to, options);\n      return;\n    }\n    if (/\\bcomment\\b/.test(self.getTokenTypeAt(Pos(from.line, 0)))) return\n\n    var end = Math.min(to.line, self.lastLine());\n    if (end != from.line && to.ch == 0 && nonWS.test(self.getLine(end))) --end;\n\n    var pad = options.padding == null ? \" \" : options.padding;\n    if (from.line > end) return;\n\n    self.operation(function() {\n      if (options.fullLines != false) {\n        var lastLineHasText = nonWS.test(self.getLine(end));\n        self.replaceRange(pad + endString, Pos(end));\n        self.replaceRange(startString + pad, Pos(from.line, 0));\n        var lead = options.blockCommentLead || mode.blockCommentLead;\n        if (lead != null) for (var i = from.line + 1; i <= end; ++i)\n          if (i != end || lastLineHasText)\n            self.replaceRange(lead + pad, Pos(i, 0));\n      } else {\n        var atCursor = cmp(self.getCursor(\"to\"), to) == 0, empty = !self.somethingSelected()\n        self.replaceRange(endString, to);\n        if (atCursor) self.setSelection(empty ? to : self.getCursor(\"from\"), to)\n        self.replaceRange(startString, from);\n      }\n    });\n  });\n\n  CodeMirror.defineExtension(\"uncomment\", function(from, to, options) {\n    if (!options) options = noOptions;\n    var self = this, mode = getMode(self, from);\n    var end = Math.min(to.ch != 0 || to.line == from.line ? to.line : to.line - 1, self.lastLine()), start = Math.min(from.line, end);\n\n    // Try finding line comments\n    var lineString = options.lineComment || mode.lineComment, lines = [];\n    var pad = options.padding == null ? \" \" : options.padding, didSomething;\n    lineComment: {\n      if (!lineString) break lineComment;\n      for (var i = start; i <= end; ++i) {\n        var line = self.getLine(i);\n        var found = line.indexOf(lineString);\n        if (found > -1 && !/comment/.test(self.getTokenTypeAt(Pos(i, found + 1)))) found = -1;\n        if (found == -1 && nonWS.test(line)) break lineComment;\n        if (found > -1 && nonWS.test(line.slice(0, found))) break lineComment;\n        lines.push(line);\n      }\n      self.operation(function() {\n        for (var i = start; i <= end; ++i) {\n          var line = lines[i - start];\n          var pos = line.indexOf(lineString), endPos = pos + lineString.length;\n          if (pos < 0) continue;\n          if (line.slice(endPos, endPos + pad.length) == pad) endPos += pad.length;\n          didSomething = true;\n          self.replaceRange(\"\", Pos(i, pos), Pos(i, endPos));\n        }\n      });\n      if (didSomething) return true;\n    }\n\n    // Try block comments\n    var startString = options.blockCommentStart || mode.blockCommentStart;\n    var endString = options.blockCommentEnd || mode.blockCommentEnd;\n    if (!startString || !endString) return false;\n    var lead = options.blockCommentLead || mode.blockCommentLead;\n    var startLine = self.getLine(start), open = startLine.indexOf(startString)\n    if (open == -1) return false\n    var endLine = end == start ? startLine : self.getLine(end)\n    var close = endLine.indexOf(endString, end == start ? open + startString.length : 0);\n    var insideStart = Pos(start, open + 1), insideEnd = Pos(end, close + 1)\n    if (close == -1 ||\n        !/comment/.test(self.getTokenTypeAt(insideStart)) ||\n        !/comment/.test(self.getTokenTypeAt(insideEnd)) ||\n        self.getRange(insideStart, insideEnd, \"\\n\").indexOf(endString) > -1)\n      return false;\n\n    // Avoid killing block comments completely outside the selection.\n    // Positions of the last startString before the start of the selection, and the first endString after it.\n    var lastStart = startLine.lastIndexOf(startString, from.ch);\n    var firstEnd = lastStart == -1 ? -1 : startLine.slice(0, from.ch).indexOf(endString, lastStart + startString.length);\n    if (lastStart != -1 && firstEnd != -1 && firstEnd + endString.length != from.ch) return false;\n    // Positions of the first endString after the end of the selection, and the last startString before it.\n    firstEnd = endLine.indexOf(endString, to.ch);\n    var almostLastStart = endLine.slice(to.ch).lastIndexOf(startString, firstEnd - to.ch);\n    lastStart = (firstEnd == -1 || almostLastStart == -1) ? -1 : to.ch + almostLastStart;\n    if (firstEnd != -1 && lastStart != -1 && lastStart != to.ch) return false;\n\n    self.operation(function() {\n      self.replaceRange(\"\", Pos(end, close - (pad && endLine.slice(close - pad.length, close) == pad ? pad.length : 0)),\n                        Pos(end, close + endString.length));\n      var openEnd = open + startString.length;\n      if (pad && startLine.slice(openEnd, openEnd + pad.length) == pad) openEnd += pad.length;\n      self.replaceRange(\"\", Pos(start, open), Pos(start, openEnd));\n      if (lead) for (var i = start + 1; i <= end; ++i) {\n        var line = self.getLine(i), found = line.indexOf(lead);\n        if (found == -1 || nonWS.test(line.slice(0, found))) continue;\n        var foundEnd = found + lead.length;\n        if (pad && line.slice(foundEnd, foundEnd + pad.length) == pad) foundEnd += pad.length;\n        self.replaceRange(\"\", Pos(i, found), Pos(i, foundEnd));\n      }\n    });\n    return true;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  var ie_lt8 = /MSIE \\d/.test(navigator.userAgent) &&\n    (document.documentMode == null || document.documentMode < 8);\n\n  var Pos = CodeMirror.Pos;\n\n  var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\", \"<\": \">>\", \">\": \"<<\"};\n\n  function bracketRegex(config) {\n    return config && config.bracketRegex || /[(){}[\\]]/\n  }\n\n  function findMatchingBracket(cm, where, config) {\n    var line = cm.getLineHandle(where.line), pos = where.ch - 1;\n    var afterCursor = config && config.afterCursor\n    if (afterCursor == null)\n      afterCursor = /(^| )cm-fat-cursor($| )/.test(cm.getWrapperElement().className)\n    var re = bracketRegex(config)\n\n    // A cursor is defined as between two characters, but in in vim command mode\n    // (i.e. not insert mode), the cursor is visually represented as a\n    // highlighted box on top of the 2nd character. Otherwise, we allow matches\n    // from before or after the cursor.\n    var match = (!afterCursor && pos >= 0 && re.test(line.text.charAt(pos)) && matching[line.text.charAt(pos)]) ||\n        re.test(line.text.charAt(pos + 1)) && matching[line.text.charAt(++pos)];\n    if (!match) return null;\n    var dir = match.charAt(1) == \">\" ? 1 : -1;\n    if (config && config.strict && (dir > 0) != (pos == where.ch)) return null;\n    var style = cm.getTokenTypeAt(Pos(where.line, pos + 1));\n\n    var found = scanForBracket(cm, Pos(where.line, pos + (dir > 0 ? 1 : 0)), dir, style, config);\n    if (found == null) return null;\n    return {from: Pos(where.line, pos), to: found && found.pos,\n            match: found && found.ch == match.charAt(0), forward: dir > 0};\n  }\n\n  // bracketRegex is used to specify which type of bracket to scan\n  // should be a regexp, e.g. /[[\\]]/\n  //\n  // Note: If \"where\" is on an open bracket, then this bracket is ignored.\n  //\n  // Returns false when no bracket was found, null when it reached\n  // maxScanLines and gave up\n  function scanForBracket(cm, where, dir, style, config) {\n    var maxScanLen = (config && config.maxScanLineLength) || 10000;\n    var maxScanLines = (config && config.maxScanLines) || 1000;\n\n    var stack = [];\n    var re = bracketRegex(config)\n    var lineEnd = dir > 0 ? Math.min(where.line + maxScanLines, cm.lastLine() + 1)\n                          : Math.max(cm.firstLine() - 1, where.line - maxScanLines);\n    for (var lineNo = where.line; lineNo != lineEnd; lineNo += dir) {\n      var line = cm.getLine(lineNo);\n      if (!line) continue;\n      var pos = dir > 0 ? 0 : line.length - 1, end = dir > 0 ? line.length : -1;\n      if (line.length > maxScanLen) continue;\n      if (lineNo == where.line) pos = where.ch - (dir < 0 ? 1 : 0);\n      for (; pos != end; pos += dir) {\n        var ch = line.charAt(pos);\n        if (re.test(ch) && (style === undefined ||\n                            (cm.getTokenTypeAt(Pos(lineNo, pos + 1)) || \"\") == (style || \"\"))) {\n          var match = matching[ch];\n          if (match && (match.charAt(1) == \">\") == (dir > 0)) stack.push(ch);\n          else if (!stack.length) return {pos: Pos(lineNo, pos), ch: ch};\n          else stack.pop();\n        }\n      }\n    }\n    return lineNo - dir == (dir > 0 ? cm.lastLine() : cm.firstLine()) ? false : null;\n  }\n\n  function matchBrackets(cm, autoclear, config) {\n    // Disable brace matching in long lines, since it'll cause hugely slow updates\n    var maxHighlightLen = cm.state.matchBrackets.maxHighlightLineLength || 1000,\n      highlightNonMatching = config && config.highlightNonMatching;\n    var marks = [], ranges = cm.listSelections();\n    for (var i = 0; i < ranges.length; i++) {\n      var match = ranges[i].empty() && findMatchingBracket(cm, ranges[i].head, config);\n      if (match && (match.match || highlightNonMatching !== false) && cm.getLine(match.from.line).length <= maxHighlightLen) {\n        var style = match.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\n        marks.push(cm.markText(match.from, Pos(match.from.line, match.from.ch + 1), {className: style}));\n        if (match.to && cm.getLine(match.to.line).length <= maxHighlightLen)\n          marks.push(cm.markText(match.to, Pos(match.to.line, match.to.ch + 1), {className: style}));\n      }\n    }\n\n    if (marks.length) {\n      // Kludge to work around the IE bug from issue #1193, where text\n      // input stops going to the textarea whenever this fires.\n      if (ie_lt8 && cm.state.focused) cm.focus();\n\n      var clear = function() {\n        cm.operation(function() {\n          for (var i = 0; i < marks.length; i++) marks[i].clear();\n        });\n      };\n      if (autoclear) setTimeout(clear, 800);\n      else return clear;\n    }\n  }\n\n  function doMatchBrackets(cm) {\n    cm.operation(function() {\n      if (cm.state.matchBrackets.currentlyHighlighted) {\n        cm.state.matchBrackets.currentlyHighlighted();\n        cm.state.matchBrackets.currentlyHighlighted = null;\n      }\n      cm.state.matchBrackets.currentlyHighlighted = matchBrackets(cm, false, cm.state.matchBrackets);\n    });\n  }\n\n  function clearHighlighted(cm) {\n    if (cm.state.matchBrackets && cm.state.matchBrackets.currentlyHighlighted) {\n      cm.state.matchBrackets.currentlyHighlighted();\n      cm.state.matchBrackets.currentlyHighlighted = null;\n    }\n  }\n\n  CodeMirror.defineOption(\"matchBrackets\", false, function(cm, val, old) {\n    if (old && old != CodeMirror.Init) {\n      cm.off(\"cursorActivity\", doMatchBrackets);\n      cm.off(\"focus\", doMatchBrackets)\n      cm.off(\"blur\", clearHighlighted)\n      clearHighlighted(cm);\n    }\n    if (val) {\n      cm.state.matchBrackets = typeof val == \"object\" ? val : {};\n      cm.on(\"cursorActivity\", doMatchBrackets);\n      cm.on(\"focus\", doMatchBrackets)\n      cm.on(\"blur\", clearHighlighted)\n    }\n  });\n\n  CodeMirror.defineExtension(\"matchBrackets\", function() {matchBrackets(this, true);});\n  CodeMirror.defineExtension(\"findMatchingBracket\", function(pos, config, oldConfig){\n    // Backwards-compatibility kludge\n    if (oldConfig || typeof config == \"boolean\") {\n      if (!oldConfig) {\n        config = config ? {strict: true} : null\n      } else {\n        oldConfig.strict = config\n        config = oldConfig\n      }\n    }\n    return findMatchingBracket(this, pos, config)\n  });\n  CodeMirror.defineExtension(\"scanForBracket\", function(pos, dir, style, config){\n    return scanForBracket(this, pos, dir, style, config);\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp, endMargin) {\n    var match, from = 0\n    while (from <= string.length) {\n      regexp.lastIndex = from\n      var newMatch = regexp.exec(string)\n      if (!newMatch) break\n      var end = newMatch.index + newMatch[0].length\n      if (end > string.length - endMargin) break\n      if (!match || end > match.index + match[0].length)\n        match = newMatch\n      from = newMatch.index + 1\n    }\n    return match\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      var match = lastMatchIn(string, regexp, ch < 0 ? 0 : string.length - ch)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpBackward(doc, regexp, start)\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunkSize = 1, endMargin = doc.getLine(start.line).length - start.ch\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunkSize && line >= first; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine : curLine + \"\\n\" + string\n      }\n      chunkSize *= 2\n\n      var match = lastMatchIn(string, regexp, endMargin)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.afterEmptyMatch = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var head = this.doc.clipPos(reverse ? this.pos.from : this.pos.to);\n      if (this.afterEmptyMatch && this.atOccurrence) {\n        // do not return the same 0 width match twice\n        head = Pos(head.line, head.ch)\n        if (reverse) {\n          head.ch--;\n          if (head.ch < 0) {\n            head.line--;\n            head.ch = (this.doc.getLine(head.line) || \"\").length;\n          }\n        } else {\n          head.ch++;\n          if (head.ch > (this.doc.getLine(head.line) || \"\").length) {\n            head.ch = 0;\n            head.line++;\n          }\n        }\n        if (CodeMirror.cmpPos(head, this.doc.clipPos(head)) != 0) {\n           return this.atOccurrence = false\n        }\n      }\n      var result = this.matches(reverse, head)\n      this.afterEmptyMatch = result && CodeMirror.cmpPos(result.from, result.to) == 0\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n"],"sourceRoot":""}